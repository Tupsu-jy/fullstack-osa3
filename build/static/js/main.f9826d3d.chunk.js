(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{15:function(e,n,t){e.exports=t(37)},37:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),l=t(14),r=t.n(l),u=(t(5),t(3)),c=t(2),i=t.n(c),m="/api/persons",d=function(){return i.a.get(m)},s=function(e){return i.a.post(m,e)},h=function(e,n){return i.a.put("".concat(m,"/").concat(e),n)},p=function(e){return console.log("delete"+e),i.a.delete(m+"/"+e)},f=function(e){var n=e.message;return null===n?null:o.a.createElement("div",{className:"error"},n)},g=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,e.name,"  ",e.num,"  id: ",e.id),o.a.createElement("button",{type:"submit",onClick:e.rp,id:e.id,name:e.name},"DELETE"))},E=function(e){for(var n=[],t=0;t<e.pp.length;t++)n[t]=o.a.createElement(g,{rp:e.rp,key:t,name:e.pp[t].name,num:e.pp[t].number,id:e.pp[t].id});return n},b=function(e){return o.a.createElement("div",null,o.a.createElement("p",null,"filter shown with"),o.a.createElement("input",{onChange:e.showFiltered}))},v=function(e){return o.a.createElement("form",{onSubmit:e.addNote},o.a.createElement("div",null,"name: ",o.a.createElement("input",{value:e.newName,onChange:e.handleChange})),o.a.createElement("div",null,"puhnum: ",o.a.createElement("input",{value:e.newNum,onChange:e.handleChangeNum})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"add")))},w=function(){var e=Object(a.useState)([]),n=Object(u.a)(e,2),t=n[0],l=n[1],r=Object(a.useState)([]),c=Object(u.a)(r,2),i=c[0],m=c[1],g=Object(a.useState)(""),w=Object(u.a)(g,2),j=w[0],O=w[1];console.log("asdasdasd");Object(a.useEffect)((function(){d().then((function(e){console.log(e),l(e.data)}))}),[]),console.log("t\xe4\xe4ll\xe4 raas");var k,C=Object(a.useState)(""),N=Object(u.a)(C,2),y=N[0],S=N[1],T=Object(a.useState)(""),D=Object(u.a)(T,2),F=D[0],W=D[1],B=function(e){console.log("remove"+e.target.id),window.confirm("Delete "+e.target.name+"?")&&(p(e.target.id).then(d().then((function(e){l(e.data)}))),O(e.target.name+" deleted"),setTimeout((function(){O(null)}),5e3))};function J(e){return e.name.includes(k)}return o.a.createElement("div",null,o.a.createElement("h1",null,"Phonebook"),o.a.createElement(f,{message:j}),o.a.createElement(b,{pp:t,showFiltered:function(e){k=e.target.value,m(t.filter(J,e.target.value))}}),o.a.createElement(E,{pp:i,rp:B}),o.a.createElement("h2",null,"Phonebook"),o.a.createElement(v,{addNote:function(e){e.preventDefault(),console.log("button clicked",e.target);var n={name:y,number:F},a=t.find((function(e){return e.name===y}));null!=a?window.confirm(a.name+" is already in book. Wanna replace old number with new?")&&(h(a.id,n).then(d().then((function(e){l(e.data)}))).catch((function(e){O("This person has already been removed from server"),setTimeout((function(){O(null)}),5e3)})),O(a.name+" phone number updated"),setTimeout((function(){O(null)}),5e3)):(s(n).then((function(e){l(t.concat(e.data))})),O(n.name+"added"),setTimeout((function(){O(null)}),5e3))},handleChange:function(e){console.log(e.target.value),S(e.target.value)},handleChangeNum:function(e){console.log(e.target.value),W(e.target.value)}}),o.a.createElement("h2",null,"Numbers"),o.a.createElement(E,{pp:t,rp:B}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},5:function(e,n,t){}},[[15,1,2]]]);
//# sourceMappingURL=main.f9826d3d.chunk.js.map